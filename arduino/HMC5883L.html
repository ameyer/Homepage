<!DOCTYPE html >

<html lang="en">
<head>
<meta charset="utf-8"/>
<link href="style/main.css" rel="stylesheet"/>
<script src="https://ajax.googleapis.com/ajax/libs/mootools/1.4.0/mootools-yui-compressed.js" type="text/javascript"></script>
<script type="text/javascript">
	
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	
	ga('create', 'UA-4050921-11', 'auto');
	ga('send', 'pageview');
	
	function nospam(user,domain) { window.location = "mailto:" + user + "@" + domain; }
		
		
	window.addEvent('domready', function(){

		$$('.codeHead .copy').addEvent('click', function(event) {
			this.highlight();
			event.stop();
			
			var code = this.getParent('.codesnip-container').getElement('.codesnip');
			
			if (code.select) {
				code.select();
			}else if (document.selection) {
				var range = document.body.createTextRange();
				range.moveToElementText(code);
				range.select();
			} else if (window.getSelection) {
				var range = document.createRange();
				range.selectNode(code);
				window.getSelection().addRange(range);
			}
			
			
			try {
				var successful = document.execCommand('copy');
				var msg = successful ? 'successful' : 'unsuccessful';
				console.log('Copying text command was ' + msg);
			} catch (err) {
				console.log('Oops, unable to copy');
			}
		});
	
	});
	</script>
<!--
	
	Icon Set:	IcoMoon - Free -- http://keyamoon.com/icomoon/
	License:	CC BY-SA 3.0 -- http://creativecommons.org/licenses/by-sa/3.0/
	
	
	Icon Set:	Broccolidry -- http://dribbble.com/shots/587469-Free-16px-Broccolidryiconsaniconsetitisfullof-icons
	License:	Aribitrary -- http://licence.visualidiot.com/
	
	-->
<title>Adam meyer | Arduino</title>
</head>
<body>
<div id="headerWrapper">
<div id="header">
<h1><a href="http://adam-meyer.com">Adam meyer</a></h1>
<h2>Design + Code</h2>
<div id="topNav">
<a href="../about.html" id="aboutLink">About</a>
<a href="../resume.pdf">Resume</a>
<a href="../index.html">Portfolio</a>
<a href="index.html">Arduino Articles</a>
<span id="contactLink"><span onclick="javascript:nospam('sternmeyer','gmail.com');">Contact</span>
<div id="contactLinks">
<a class="icon-twitter" href="http://twitter.com/sternmeyer" title="twitter"></a>
<a class="icon-linkedin" href="http://www.linkedin.com/pub/adam-meyer/20/7a/850/" title="linked in"></a>
<a class="icon-dribbble" href="http://dribbble.com/ameyer" title="dribbble"></a>
<a class="icon-github" href="https://github.com/ameyer" title="github"></a>
<a class="icon-instagram" href="http://instagram.com/sternmeyer" title="instagram"></a>
<a class="icon-envelope2" href="mailto:sternmeyer@gmail.com" title="email"></a>
</div>
</span>
</div>
</div>
</div>
<div id="articleWrapper">
<div class="content">
<div class="post"><h2>Triple Axis Magnetometer HMC5883L + Arduino</h2>
<div class="postContent">
<p><img class="noFrame" src="images/2011/08/HMC5883L.jpg"/></p>
<div class="columnBody">
<div class="leftColumn">
One of the first articles we did was on <a href="./hmc6352">the hmc6352 digital compass</a>. Well this is his older brother (or younger but smarter). I really don't know what to say about the HMC5883L other than it is a three axis magnetometer, so it is capable of sensing in 3 directions.
<p>That doesn't mean that it is tilt compensated, because you really don't know how it is orientated when the reading comes in. For that, you would need to combine this with an accelerometer to do that. But this can get you one step closer. <b>If you are looking at using this as a digital compass, make sure to read the following section.</b></p>
<h4>Magnetic Declination</h4>
<p>Something I found interesting and obvious once I thought about it, is that all compasses point to <a href="http://en.wikipedia.org/wiki/North_Magnetic_Pole">magnetic north</a>, and not <a href="http://en.wikipedia.org/wiki/True_north">true north</a>. The difference between them is called <a href="http://en.wikipedia.org/wiki/Magnetic_declination">Magnetic declination</a>. And how much they vary depends on where you are, and... when it is, because as weird as it is, it changes over time (<a href="http://upload.wikimedia.org/wikipedia/commons/4/43/Earth_Magnetic_Field_Declination_from_1590_to_1990.gif">awesome animation of that</a>). You can <a href="http://www.ngdc.noaa.gov/geomagmodels/Declination.jsp">look up your Magnetic declination here</a>.</p>
</div>
<div class="rightColumn">
<p><a href="images/2012/01/HMC5883L_arduino_hookup.png"><img alt="" class="alignleft size-medium wp-image-1923" height="342" src="images/2012/01/HMC5883L_arduino_hookup-400x342.png" title="HMC5883L_arduino_hookup" width="400"/></a></p>
</div>
</div>
<div class="wideBody">
<h3>Hooking it up</h3>
<p>Hooking you HMC5883L up to your arduino is pretty simple. The HMC5883L is an I2C device, a type 2-wire serial connection, so we just need to connect the SDA (Data) and SCL (Clock) lines to your Arduino for communication. On your Arduino (everything but the mega) SDA is on analog pin 4, and SCL is on analog pin 5. On an arduino mega, SDA is digital 20, and SCL is digital 21. (The Arduino Leonardo will also be different). Other than these 2 lines, we just need to connect power(3.3v), ground and we are all set.</p>
</div>
<div class="columnBody">
<div class="leftColumn">
<h3>Code</h3>
<p>The code for the HMC5883Lis a bit more complex than his single-axis brother, and the readings from it come in a few different forms, so we will be using a library to achieve this.</p>
<p>To make this code work, <strong>before you load the code, or even open the Arduino program</strong>, we need to place the "HMC5883L" folder into your Arduino Library. If you don’t know where that is by default, Look to the right.</p>
<p>If you click the download button to the right of “Arduino” you can download the whole thing as a zip, so you dont need to copy all the files.</p>
</div>
<div class="rightColumn">
<h3>Default Library Folder Location</h3>
<p><span style="font-size: 10px; line-height:12px;"><strong>On your Mac:</strong>: In (home directory)/Documents/Arduino/libraries<br/>
<strong>On your PC:</strong>: My Documents -&gt; Arduino -&gt; libraries<br/>
<strong>On your Linux box:</strong>: (home directory)/sketchbook/libraries<br/>
</span></p>
</div>
</div>
<div class="clear">
<script src="../github/HMC5883L.js"></script>
</div>
</div>
<div id="attribution">
<p>Article taken from <a href="http://bildr.org/hmc5883l_arduino">bildr.org</a> with minor changes - <i>I am the original author of this content</i></p>
<div id="attributionIcons">
<div class="ccIcon cc"></div>
<div class="ccIcon sa"></div>
<div class="ccIcon attribution"></div>
<div id="attributionText">
<a href="https://creativecommons.org/licenses/by-sa/3.0/">Content available under:<br/>Attribution-Share Alike 3.0 Unported</a>
</div>
</div>
</div>
</div></div></div></body></html>
document.write('<link rel="stylesheet" href="../arduino/style/githubEmbed.css"/>');document.write('<link rel="stylesheet" href="../arduino/style/githubEmbed.css"/>');/*
---
script: Fx.Scroll.js
name: Fx.Scroll
description: Effect to smoothly scroll any element, including the window.
license: MIT-style license
authors:
  - Valerio Proietti
requires:
  - Core/Fx
  - Core/Element.Event
  - Core/Element.Dimensions
  - MooTools.More
provides: [Fx.Scroll]
...
*/

function GHE_isBody(element){
	return (/^(?:body|html)$/i).test(element.tagName);
}

Fx.Scroll = new Class({
	Extends: Fx,
	options: {
		offset: {x: 0, y: 0},
		wheelStops: true
	},
	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);
		if (typeOf(this.element) != 'element') this.element = document.id(this.element.getDocument().body);
		if (this.options.wheelStops){
			var stopper = this.element,
				cancel = this.cancel.pass(false, this);
			this.addEvent('start', function(){
				stopper.addEvent('mousewheel', cancel);
			}, true);
			this.addEvent('complete', function(){
				stopper.removeEvent('mousewheel', cancel);
			}, true);
		}
	},
	set: function(){
		var now = Array.flatten(arguments);
		if (Browser.firefox) now = [Math.round(now[0]), Math.round(now[1])]; // not needed anymore in newer firefox versions
		this.element.scrollTo(now[0], now[1]);
		return this;
	},
	compute: function(from, to, delta){
		return [0, 1].map(function(i){
			return Fx.compute(from[i], to[i], delta);
		});
	},
	start: function(x, y){
		if (!this.check(x, y)) return this;
		var scroll = this.element.getScroll();
		return this.parent([scroll.x, scroll.y], [x, y]);
	},
	calculateScroll: function(x, y){
		var element = this.element,
			scrollSize = element.getScrollSize(),
			scroll = element.getScroll(),
			size = element.getSize(),
			offset = this.options.offset,
			values = {x: x, y: y};
		for (var z in values){
			if (!values[z] && values[z] !== 0) values[z] = scroll[z];
			if (typeOf(values[z]) != 'number') values[z] = scrollSize[z] - size[z];
			values[z] += offset[z];
		}
		return [values.x, values.y];
	},
	toElement: function(el, axes){
		axes = axes ? Array.from(axes) : ['x', 'y'];
		var scroll = GHE_isBody(this.element) ? {x: 0, y: 0} : this.element.getScroll();
		var position = Object.map(document.id(el).getPosition(this.element), function(value, axis){
			return axes.contains(axis) ? value + scroll[axis] : false;
		});
		return this.start.apply(this, this.calculateScroll(position.x, position.y));
	}
});

var Embed = new Class({
	Implements: [Events],
	initialize: function(wrapper, codeWrapper, data){

		this.wrapper = document.id(wrapper);
		this.codeWrapper = document.id(codeWrapper);
		this.data = data;
		this.codeScroll = new Fx.Scroll(this.codeWrapper, {link: 'cancel'});
		this.files = [];
		this.rawTree = [];
		for (var i = 0; i < data.tree.length; i++) {
			var file = {};
			file.path = this.getPath(this.data.tree[i].path);
			file.mode = this.data.tree[i].mode;
			file.sha = this.data.tree[i].sha;
			file.url = this.data.tree[i].url;
			file.name = file.path.pop();
			file.extension = file.name.split('.').pop();
			file.type = (this.data.tree[i].type == "tree")? 'folder' : 'file';
			this.rawTree.push(file);
		}
		this.filelist = new GHE_Filelist(this.wrapper);
		//loop through files, and make structure.
		for (var i = 0; i < this.rawTree.length; i++) {
			var file = this.rawTree[i];
			var path = this.filelist;
			//find/create file path
			while(file.path.length > 0){
				var segment = file.path.shift();
				if(!path[segment]){
					path[segment] =  new GHE_Folder(path.fileHousing, file, segment);
				}
				path = path[segment];
			}
			if(file.type == 'file'){
				if(file.extension != 'gitignore' && file.extension != 'pdf'){
					path[file.name] = new GHE_File(path.fileHousing,file);
					path[file.name].addEvent('clicked', this.fileClicked.bind(this));
					this.files.push(path[file.name]);
				}
			}else{
				path[file.name] = new GHE_Folder(path.fileHousing,file);
			}
		}
		this.files[0].select();
		console.log(this.fileList);
	},
	fileClicked: function(file){
		for (var i = 0; i < this.files.length; i++) {
			this.files[i].unselect();
		}
		file.select();
		console.log(file);
		this.codeScroll.toElement(document.id(file.sha));
	},
	getPath: function(path){
		return path.split("/");
	}
});var GHE_Filelist = new Class({
	Implements: [Events],
	initialize: function(wrapper){
		this.wrapper = document.id(wrapper);
		
		this.buildUI();
	},
	buildUI: function(){
		this.body = new Element('div', {'class': 'fileList'}).inject(this.wrapper);
			this.fileHousing = new Element('div', {'class': 'fileHousing'}).inject(this.body);
		//console.log(this);
	},
});
var GHE_File = new Class({
	Implements: [Events],
	initialize: function(wrapper, data){
		this.data = data;
		this.name = data.name;
		this.sha = data.sha;
		this.url = data.url;
		this.mode = data.mode;
		this.wrapper = document.id(wrapper);
		this.buildUI();
	},
	buildUI: function(){
		this.body = new Element('div', {'class': 'file'}).inject(this.wrapper);
			this.nameEl = new Element('div', {'class': 'name', html: this.data.name}).inject(this.body);
		this.body.addEvent('click', this.clicked.bind(this));
	},
	clicked: function(){
		this.fireEvent('clicked', this);
	},
	select: function(){
		this.body.addClass('selected');
	},
	unselect: function(){
		this.body.removeClass('selected');
	}
});var GHE_Folder = new Class({
	Implements: [Events],
	initialize: function(wrapper, data, name){
		this.data = data;
		this.name = name;
		this.sha = data.sha;
		this.url = data.url;
		this.mode = data.mode;
		this.wrapper = document.id(wrapper);
		
		this.buildUI();
	},
	buildUI: function(){
		this.folderWrapper = new Element('div', {'class': 'folderWrapper'}).inject(this.wrapper);
			this.body = new Element('div', {'class': 'folder'}).inject(this.folderWrapper);
				this.nameEl = new Element('div', {'class': 'name', html: this.name}).inject(this.body);
			this.fileHousing = new Element('div', {'class': 'fileHousing'}).inject(this.folderWrapper);
		this.body.addEvent('click', this.clicked.bind(this));
	},
	clicked: function(){
		this.fireEvent('clicked', this);
	},
	addFile: function(file){
		this.fileHousing.inject(file.body);
	}
});
document.write('<div class=\"githubEmbed_projectWrapper\"><div class=\"projectHeader\" ><span class=\"projectTitle\"><a title=\"github.com: ameyer/keypad\" href=\"http://github.com/ameyer/keypad\">keypad</a> </span><a class=\"downloadButton\" title=\"download prject from github\" href=\"https://github.com/ameyer/keypad/archive/master.zip\">download</a></div><div class=\"body\"><div class=\"sideBar\" id=\"keypad_sidebar\"></div><div class=\"projectCode\" id=\"keypad_code\">   <div class=\"fileWrapper cpp\" id=\"5f871f592d190466f18a3543a7f1491214dbb67f\">  <p class=\"fileHead\">Keypad.cpp</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />109<br />110<br />111<br />112<br />113<br />114<br />115<br />116<br />117<br />118<br />119<br />120<br />121<br />122<br />123<br />124<br />125<br />126<br />127<br />128<br />129<br />130<br />131<br />132<br />133<br />134<br />135<br />136<br />137<br />138<br />139<br />140<br />141<br />142<br />143<br />144<br />145<br />146<br />147<br />148<br />149<br />150<br />151<br />152<br />153<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"coMULTI\">/*<br />||<br />|| @file Keypad.h<br />|| @version 1.8<br />|| @author Mark Stanley, Alexander Brevig<br />|| @contact mstanley@technologist.com, alexanderbrevig@gmail.com<br />||<br />|| @description<br />|| | This library provides a simple interface for using matrix<br />|| | keypads. It supports the use of multiple keypads with the<br />|| | same or different sets of keys. It also supports user<br />|| | selectable pins and definable keymaps.<br />|| #<br />||<br />|| @license<br />|| | This library is free software; you can redistribute it and/or<br />|| | modify it under the terms of the GNU Lesser General Public<br />|| | License as published by the Free Software Foundation; version<br />|| | 2.1 of the License.<br />|| |<br />|| | This library is distributed in the hope that it will be useful,<br />|| | but WITHOUT ANY WARRANTY; without even the implied warranty of<br />|| | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU<br />|| | Lesser General Public License for more details.<br />|| |<br />|| | You should have received a copy of the GNU Lesser General Public<br />|| | License along with this library; if not, write to the Free Software<br />|| | Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA<br />|| #<br />||<br />*/</span><br /><br /><span class=\"co2\">#include &quot;Keypad.h&quot;</span><br /><br /><span class=\"co1\">// &lt;&lt;constructor&gt;&gt; Allows custom keymap. pin configuration and keypad size</span><br />Keypad<span class=\"sy0\">::</span><span class=\"me2\">Keypad</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> <span class=\"sy0\">*</span>userKeymap<span class=\"sy0\">,</span> byte <span class=\"sy0\">*</span>row<span class=\"sy0\">,</span> byte <span class=\"sy0\">*</span>col<span class=\"sy0\">,</span> byte rows<span class=\"sy0\">,</span> byte cols<span class=\"br0\">&#41;</span><br /><span class=\"br0\">&#123;</span><br />  rowPins <span class=\"sy0\">=</span> row<span class=\"sy0\">;</span><br />  columnPins <span class=\"sy0\">=</span> col<span class=\"sy0\">;</span><br />    <br />    size.<span class=\"me1\">rows</span> <span class=\"sy0\">=</span> rows<span class=\"sy0\">;</span><br />    size.<span class=\"me1\">columns</span> <span class=\"sy0\">=</span> cols<span class=\"sy0\">;</span><br />    <br />  begin<span class=\"br0\">&#40;</span>userKeymap<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />    lastUpdate <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br />    debounceTime <span class=\"sy0\">=</span> <span class=\"nu0\">50</span><span class=\"sy0\">;</span><br />    holdTime <span class=\"sy0\">=</span> <span class=\"nu0\">1000</span><span class=\"sy0\">;</span><br />    keypadEventListener <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br />    currentKey <span class=\"sy0\">=</span> NO_KEY<span class=\"sy0\">;</span><br />    state <span class=\"sy0\">=</span> IDLE<span class=\"sy0\">;</span><br />    <br />    initializePins<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">// Let the user define a keymap - assume the same row- / columncount as defined in constructor</span><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">begin</span><span class=\"br0\">&#40;</span> <span class=\"kw4\">char</span> <span class=\"sy0\">*</span>userKeymap<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />  keymap <span class=\"sy0\">=</span> userKeymap<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">// Returns the keykode of the pressed key, or NO_KEY if no key is pressed</span><br /><span class=\"kw4\">char</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">getKey</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw4\">char</span> key <span class=\"sy0\">=</span> NO_KEY<span class=\"sy0\">;</span> <span class=\"co1\">// Assume that no key is pressed, this is the default return for getKey()</span><br />  <span class=\"kw1\">for</span> <span class=\"br0\">&#40;</span>byte c<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> c<span class=\"sy0\">&lt;</span>size.<span class=\"me1\">columns</span><span class=\"sy0\">;</span> c<span class=\"sy0\">++</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />        digitalWrite<span class=\"br0\">&#40;</span>columnPins<span class=\"br0\">&#91;</span>c<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>LOW<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span>    <span class=\"co1\">// Activate the current column.</span><br />        <span class=\"kw1\">for</span> <span class=\"br0\">&#40;</span>byte r<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> r<span class=\"sy0\">&lt;</span>size.<span class=\"me1\">rows</span><span class=\"sy0\">;</span> r<span class=\"sy0\">++</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span>    <span class=\"co1\">// Scan all the rows for a key press.</span><br />            <span class=\"co1\">// The user pressed a button for more then debounceTime microseconds.</span><br />            <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>currentKey <span class=\"sy0\">==</span> keymap<span class=\"br0\">&#91;</span>c<span class=\"sy0\">+</span><span class=\"br0\">&#40;</span>r<span class=\"sy0\">*</span>size.<span class=\"me1\">columns</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#93;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />                <span class=\"co1\">// Button hold</span><br />                <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span>millis<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">-</span>lastUpdate<span class=\"br0\">&#41;</span> <span class=\"sy0\">&gt;=</span> holdTime<span class=\"br0\">&#41;</span> <span class=\"sy0\">&amp;&amp;</span> digitalRead<span class=\"br0\">&#40;</span>rowPins<span class=\"br0\">&#91;</span>r<span class=\"br0\">&#93;</span><span class=\"br0\">&#41;</span> <span class=\"sy0\">==</span> LOW<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />                    transitionTo<span class=\"br0\">&#40;</span>HOLD<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />                <span class=\"br0\">&#125;</span><br />                <span class=\"co1\">// Button release</span><br />                <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span>millis<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">-</span>lastUpdate<span class=\"br0\">&#41;</span> <span class=\"sy0\">&gt;=</span> debounceTime<span class=\"br0\">&#41;</span> <span class=\"sy0\">&amp;&amp;</span> digitalRead<span class=\"br0\">&#40;</span>rowPins<span class=\"br0\">&#91;</span>r<span class=\"br0\">&#93;</span><span class=\"br0\">&#41;</span> <span class=\"sy0\">==</span> HIGH<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />                    transitionTo<span class=\"br0\">&#40;</span>RELEASED<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />                    currentKey <span class=\"sy0\">=</span> NO_KEY<span class=\"sy0\">;</span><br />                <span class=\"br0\">&#125;</span><br />            <span class=\"br0\">&#125;</span> <br />            <span class=\"co1\">// Button pressed event. The user pressed a button.</span><br />            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#40;</span>millis<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">-</span>lastUpdate<span class=\"br0\">&#41;</span> <span class=\"sy0\">&gt;=</span> debounceTime<span class=\"br0\">&#41;</span> <span class=\"sy0\">&amp;&amp;</span> digitalRead<span class=\"br0\">&#40;</span>rowPins<span class=\"br0\">&#91;</span>r<span class=\"br0\">&#93;</span><span class=\"br0\">&#41;</span> <span class=\"sy0\">==</span> LOW<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />                digitalWrite<span class=\"br0\">&#40;</span>columnPins<span class=\"br0\">&#91;</span>c<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>HIGH<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span>    <span class=\"co1\">// De-activate the current column.</span><br />                key <span class=\"sy0\">=</span> keymap<span class=\"br0\">&#91;</span>c<span class=\"sy0\">+</span><span class=\"br0\">&#40;</span>r<span class=\"sy0\">*</span>size.<span class=\"me1\">columns</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />                lastUpdate <span class=\"sy0\">=</span> millis<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />                <span class=\"kw1\">goto</span> EVALUATE_KEY<span class=\"sy0\">;</span>           <span class=\"co1\">// Save resources and do not attempt to parse to keys at a time</span><br />            <span class=\"br0\">&#125;</span> <br />        <span class=\"br0\">&#125;</span><br />        digitalWrite<span class=\"br0\">&#40;</span>columnPins<span class=\"br0\">&#91;</span>c<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>HIGH<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span>    <span class=\"co1\">// De-activate the current column.</span><br />    <span class=\"br0\">&#125;</span><br />    <br />    EVALUATE_KEY<span class=\"sy0\">:</span><br />    <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>key <span class=\"sy0\">!=</span> NO_KEY <span class=\"sy0\">&amp;&amp;</span> key <span class=\"sy0\">!=</span> currentKey<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />        currentKey <span class=\"sy0\">=</span> key<span class=\"sy0\">;</span><br />        transitionTo<span class=\"br0\">&#40;</span>PRESSED<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />        <span class=\"kw1\">return</span> currentKey<span class=\"sy0\">;</span><br />    <span class=\"br0\">&#125;</span> <br />    <span class=\"kw1\">else</span><span class=\"br0\">&#123;</span><br />        <span class=\"kw1\">return</span> NO_KEY<span class=\"sy0\">;</span><br />    <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /><br /><br />KeypadState Keypad<span class=\"sy0\">::</span><span class=\"me2\">getState</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">return</span> state<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">setDebounceTime</span><span class=\"br0\">&#40;</span><span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> debounce<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    debounceTime <span class=\"sy0\">=</span> debounce<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">setHoldTime</span><span class=\"br0\">&#40;</span><span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> hold<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    holdTime <span class=\"sy0\">=</span> hold<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">addEventListener</span><span class=\"br0\">&#40;</span><span class=\"kw4\">void</span> <span class=\"br0\">&#40;</span><span class=\"sy0\">*</span>listener<span class=\"br0\">&#41;</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    keypadEventListener <span class=\"sy0\">=</span> listener<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//private</span><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">transitionTo</span><span class=\"br0\">&#40;</span>KeypadState newState<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>state<span class=\"sy0\">!=</span>newState<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />        state <span class=\"sy0\">=</span> newState<span class=\"sy0\">;</span><br />        <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>keypadEventListener<span class=\"sy0\">!=</span>NULL<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />            keypadEventListener<span class=\"br0\">&#40;</span>currentKey<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />        <span class=\"br0\">&#125;</span><br />    <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"kw4\">void</span> Keypad<span class=\"sy0\">::</span><span class=\"me2\">initializePins</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">for</span> <span class=\"br0\">&#40;</span>byte r<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> r<span class=\"sy0\">&lt;</span>size.<span class=\"me1\">rows</span><span class=\"sy0\">;</span> r<span class=\"sy0\">++</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">for</span> <span class=\"br0\">&#40;</span>byte c<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> c<span class=\"sy0\">&lt;</span>size.<span class=\"me1\">columns</span><span class=\"sy0\">;</span> c<span class=\"sy0\">++</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />            pinMode<span class=\"br0\">&#40;</span>columnPins<span class=\"br0\">&#91;</span>c<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>OUTPUT<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />            digitalWrite<span class=\"br0\">&#40;</span>columnPins<span class=\"br0\">&#91;</span>c<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>HIGH<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"br0\">&#125;</span><br />        <span class=\"co1\">//configure row pin modes and states</span><br />        pinMode<span class=\"br0\">&#40;</span>rowPins<span class=\"br0\">&#91;</span>r<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>INPUT<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />        digitalWrite<span class=\"br0\">&#40;</span>rowPins<span class=\"br0\">&#91;</span>r<span class=\"br0\">&#93;</span><span class=\"sy0\">,</span>HIGH<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />  <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"coMULTI\">/*<br />|| @changelog<br />|| | 2009-07-08 - Alexander Brevig : Library does not use 2d arrays<br />|| | 2009-06-15 - Alexander Brevig : Added transitionTo<br />|| | 2009-06-15 - Alexander Brevig : Added getState()<br />|| | 2009-06-13 - Mark Stanley : Fixed bug in getKey() that returns the wrong key if debounceTime is too short.<br />|| | 2009-06-13 - Mark Stanley : Minor bug fix: Added \'currentKey = NO_KEY\' to constructors.<br />|| | 2009-05-19 - Alexander Brevig : Added setHoldTime()<br />|| | 2009-05-15 - Alexander Brevig : Changed begin() amd getKey(), this Library should be operational.<br />|| | 2009-05-09 - Alexander Brevig : Changed getKey()<br />|| | 2009-04-28 - Alexander Brevig : Modified API, and made variables private<br />|| | 2007-XX-XX - Mark Stanley : Initial Release<br />|| #<br />*/</span></code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper h\" id=\"fe3191990f46c602e9760065c8b1061cda6e442c\">  <p class=\"fileHead\">Keypad.h</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"coMULTI\">/*<br />||<br />|| @file Keypad.h<br />|| @version 1.8<br />|| @author Mark Stanley, Alexander Brevig<br />|| @contact mstanley@technologist.com, alexanderbrevig@gmail.com<br />||<br />|| @description<br />|| | This library provides a simple interface for using matrix<br />|| | keypads. It supports the use of multiple keypads with the<br />|| | same or different sets of keys. It also supports user<br />|| | selectable pins and definable keymaps.<br />|| #<br />||<br />|| @license<br />|| | This library is free software; you can redistribute it and/or<br />|| | modify it under the terms of the GNU Lesser General Public<br />|| | License as published by the Free Software Foundation; version<br />|| | 2.1 of the License.<br />|| |<br />|| | This library is distributed in the hope that it will be useful,<br />|| | but WITHOUT ANY WARRANTY; without even the implied warranty of<br />|| | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU<br />|| | Lesser General Public License for more details.<br />|| |<br />|| | You should have received a copy of the GNU Lesser General Public<br />|| | License along with this library; if not, write to the Free Software<br />|| | Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA<br />|| #<br />||<br />*/</span><br /><br /><span class=\"co2\">#ifndef KEYPAD_H</span><br /><span class=\"co2\">#define KEYPAD_H</span><br /><br /><span class=\"co2\">#include &lt;WProgram.h&gt;</span><br /><br /><span class=\"co2\">#define makeKeymap(x) ((char*)x)</span><br /><br /><span class=\"kw4\">typedef</span> <span class=\"kw4\">char</span> KeypadEvent<span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">typedef</span> <span class=\"kw2\">enum</span> <span class=\"br0\">&#123;</span><br />    IDLE<span class=\"sy0\">=</span>0<span class=\"sy0\">,</span> <br />    PRESSED<span class=\"sy0\">,</span> <br />    RELEASED<span class=\"sy0\">,</span> <br />    HOLD<br /><span class=\"br0\">&#125;</span> KeypadState<span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">typedef</span> <span class=\"kw4\">struct</span> <span class=\"br0\">&#123;</span><br />  byte rows <span class=\"sy0\">:</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br />  byte columns <span class=\"sy0\">:</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span> KeypadSize<span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">const</span> <span class=\"kw4\">char</span> NO_KEY <span class=\"sy0\">=</span> <span class=\"st0\">\'<span class=\"es5\">\\0</span>\'</span><span class=\"sy0\">;</span><br /><span class=\"co2\">#define KEY_RELEASED NO_KEY</span><br /><br />class Keypad <span class=\"br0\">&#123;</span><br />public<span class=\"sy0\">:</span><br />  <span class=\"coMULTI\">/*<br />    Keypad();<br />    Keypad(byte row[], byte col[], byte rows, byte cols);<br />    */</span><br />    Keypad<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> <span class=\"sy0\">*</span>userKeymap<span class=\"sy0\">,</span> byte <span class=\"sy0\">*</span>row<span class=\"sy0\">,</span> byte <span class=\"sy0\">*</span>col<span class=\"sy0\">,</span> byte rows<span class=\"sy0\">,</span> byte cols<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />    <span class=\"co1\">//void begin(); //DEPRECATED!</span><br />    <span class=\"kw4\">void</span> begin<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> <span class=\"sy0\">*</span>userKeymap<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">char</span> getKey<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    KeypadState getState<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> setDebounceTime<span class=\"br0\">&#40;</span><span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> debounce<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> setHoldTime<span class=\"br0\">&#40;</span><span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> hold<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> addEventListener<span class=\"br0\">&#40;</span><span class=\"kw4\">void</span> <span class=\"br0\">&#40;</span><span class=\"sy0\">*</span>listener<span class=\"br0\">&#41;</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />private<span class=\"sy0\">:</span><br />    <span class=\"kw4\">void</span> transitionTo<span class=\"br0\">&#40;</span>KeypadState newState<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> initializePins<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />  <span class=\"kw4\">char</span> <span class=\"sy0\">*</span>keymap<span class=\"sy0\">;</span><br />  byte <span class=\"sy0\">*</span>rowPins<span class=\"sy0\">;</span> <br />  byte <span class=\"sy0\">*</span>columnPins<span class=\"sy0\">;</span> <br />  KeypadSize size<span class=\"sy0\">;</span><br />    KeypadState state<span class=\"sy0\">;</span><br />  <span class=\"kw4\">char</span> currentKey<span class=\"sy0\">;</span><br />    <span class=\"kw4\">unsigned</span> <span class=\"kw4\">long</span> lastUpdate<span class=\"sy0\">;</span><br />    <span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> debounceTime<span class=\"sy0\">;</span><br />    <span class=\"kw4\">unsigned</span> <span class=\"kw4\">int</span> holdTime<span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> <span class=\"br0\">&#40;</span><span class=\"sy0\">*</span>keypadEventListener<span class=\"br0\">&#41;</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><br /><br /><span class=\"co2\">#endif</span><br /><br /><span class=\"coMULTI\">/*<br />|| @changelog<br />|| | 1.8 2009-07-08 - Alexander Brevig : No longer uses arrays<br />|| | 1.7 2009-06-18 - Alexander Brevig : This library is a Finite State Machine<br />|| |                                      every time a state changes the keypadEventListener will trigger, if set<br />|| | 1.7 2009-06-18 - Alexander Brevig : Added setDebounceTime<br />|| |                                      setHoldTime specifies the amount of microseconds before a HOLD state triggers<br />|| | 1.7 2009-06-18 - Alexander Brevig : Added transitionTo<br />|| | 1.6 2009-06-15 - Alexander Brevig : Added getState() and state variable<br />|| | 1.5 2009-05-19 - Alexander Brevig : Added setHoldTime()<br />|| | 1.4 2009-05-15 - Alexander Brevig : Added addEventListener<br />|| | 1.3 2009-05-12 - Alexander Brevig : Added lastUdate, in order to do simple debouncing<br />|| | 1.2 2009-05-09 - Alexander Brevig : Changed getKey()<br />|| | 1.1 2009-04-28 - Alexander Brevig : Modified API, and made variables private<br />|| | 1.0 2007-XX-XX - Mark Stanley : Initial Release<br />|| #<br />*/</span></code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper txt\" id=\"c4fb00cae2c99b12f909507695a839655f2847ba\">  <p class=\"fileHead\">keywords.txt</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code>Keypad KEYWORD1<br />KeypadEvent   KEYWORD1<br /><br />begin  KEYWORD2<br />getKey KEYWORD2<br />getState    KEYWORD2<br />setHoldTime   KEYWORD2<br />addEventListener    KEYWORD2<br /><br /># this is a macro that converts 2d arrays to pointers<br />makeKeymap   KEYWORD2<br /><br /># this is a way to standardize the client code, help enhance the use of the name keypadEvent<br />keypadEvent   KEYWORD2<br /><br />NO_KEY LITERAL1<br />KEY_RELEASED  LITERAL1</code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper txt\" id=\"b132efea8543fe82d1fd16a19298a9840f395e17\">  <p class=\"fileHead\">License.txt</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code>Copyright (c) 2010 bildr community<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy<br />of this software and associated documentation files (the &quot;Software&quot;), to deal<br />in the Software without restriction, including without limitation the rights<br />to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br />copies of the Software, and to permit persons to whom the Software is<br />furnished to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in<br />all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br />IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br />FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br />AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br />LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br />OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN<br />THE SOFTWARE.</code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper cpp\" id=\"66ec862d55e3785075fabf915c897eb73a2ad279\">  <p class=\"fileHead\">Password.cpp</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />109<br />110<br />111<br />112<br />113<br />114<br />115<br />116<br />117<br />118<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"coMULTI\">/*<br />||<br />|| @file Password.cpp<br />|| @version 1.1<br />|| @author Alexander Brevig<br />|| @contact alexanderbrevig@gmail.com<br />||<br />|| @description<br />|| | Handle passwords easily<br />|| #<br />||<br />|| @license<br />|| | This library is free software; you can redistribute it and/or<br />|| | modify it under the terms of the GNU Lesser General Public<br />|| | License as published by the Free Software Foundation; version<br />|| | 2.1 of the License.<br />|| |<br />|| | This library is distributed in the hope that it will be useful,<br />|| | but WITHOUT ANY WARRANTY; without even the implied warranty of<br />|| | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU<br />|| | Lesser General Public License for more details.<br />|| |<br />|| | You should have received a copy of the GNU Lesser General Public<br />|| | License along with this library; if not, write to the Free Software<br />|| | Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA<br />|| #<br />||<br />*/</span><br /><br /><span class=\"co2\">#include &quot;Password.h&quot;</span><br /><br /><span class=\"co1\">//construct object in memory, set all variables</span><br />Password<span class=\"sy0\">::</span><span class=\"me2\">Password</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    set<span class=\"br0\">&#40;</span> pass <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    reset<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//set the password</span><br /><span class=\"kw4\">void</span> Password<span class=\"sy0\">::</span><span class=\"me2\">set</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    target <span class=\"sy0\">=</span> pass<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//evaluate a string, is it equal to the password?</span><br />bool Password<span class=\"sy0\">::</span><span class=\"me2\">is</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />    byte i<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span><br />    <span class=\"kw1\">while</span> <span class=\"br0\">&#40;</span><span class=\"sy0\">*</span>pass <span class=\"sy0\">&amp;&amp;</span> i<span class=\"sy0\">&lt;</span>MAX_PASSWORD_LENGTH<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />        guess<span class=\"br0\">&#91;</span>i<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> pass<span class=\"br0\">&#91;</span>i<span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />        i<span class=\"sy0\">++;</span><br />    <span class=\"br0\">&#125;</span><br />    <span class=\"kw1\">return</span> evaluate<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//append a char to the guessed password</span><br />bool Password<span class=\"sy0\">::</span><span class=\"me2\">append</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> character<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />    <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>currentIndex<span class=\"sy0\">+</span>1<span class=\"sy0\">==</span>MAX_PASSWORD_LENGTH<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />        <span class=\"kw1\">return</span> <span class=\"kw2\">false</span><span class=\"sy0\">;</span><br />    <span class=\"br0\">&#125;</span><span class=\"kw1\">else</span><span class=\"br0\">&#123;</span><br />        guess<span class=\"br0\">&#91;</span>currentIndex<span class=\"sy0\">++</span><span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> character<span class=\"sy0\">;</span><br />        guess<span class=\"br0\">&#91;</span>currentIndex<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> STRING_TERMINATOR<span class=\"sy0\">;</span> <span class=\"co1\">//ensure a valid c string</span><br />    <span class=\"br0\">&#125;</span><br />    <span class=\"kw1\">return</span> <span class=\"kw2\">true</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//reset the guessed password, one can guess again</span><br /><span class=\"kw4\">void</span> Password<span class=\"sy0\">::</span><span class=\"me2\">reset</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />    currentIndex <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br />    guess<span class=\"br0\">&#91;</span>currentIndex<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> STRING_TERMINATOR<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//is the current guessed password equal to the target password?</span><br />bool Password<span class=\"sy0\">::</span><span class=\"me2\">evaluate</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span> <br />    <span class=\"kw4\">char</span> pass <span class=\"sy0\">=</span> target<span class=\"br0\">&#91;</span>0<span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">char</span> guessed <span class=\"sy0\">=</span> guess<span class=\"br0\">&#91;</span>0<span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />    <span class=\"kw1\">for</span> <span class=\"br0\">&#40;</span>byte i<span class=\"sy0\">=</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span> i<span class=\"sy0\">&lt;</span>MAX_PASSWORD_LENGTH<span class=\"sy0\">;</span> i<span class=\"sy0\">++</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />        <br />        <span class=\"co1\">//check if guessed char is equal to the password char</span><br />        <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>pass<span class=\"sy0\">==</span>STRING_TERMINATOR <span class=\"sy0\">&amp;&amp;</span> guessed<span class=\"sy0\">==</span>STRING_TERMINATOR<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />            <span class=\"kw1\">return</span> <span class=\"kw2\">true</span><span class=\"sy0\">;</span> <span class=\"co1\">//both strings ended and all previous characters are equal </span><br />        <span class=\"br0\">&#125;</span><span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>pass<span class=\"sy0\">!=</span>guessed <span class=\"sy0\">||</span> pass<span class=\"sy0\">==</span>STRING_TERMINATOR <span class=\"sy0\">||</span> guessed<span class=\"sy0\">==</span>STRING_TERMINATOR<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />            <span class=\"kw1\">return</span> <span class=\"kw2\">false</span><span class=\"sy0\">;</span> <span class=\"co1\">//difference OR end of string has been reached</span><br />        <span class=\"br0\">&#125;</span><br />        <br />        <span class=\"co1\">//read next char</span><br />        pass <span class=\"sy0\">=</span> target<span class=\"br0\">&#91;</span>i<span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />        guessed <span class=\"sy0\">=</span> guess<span class=\"br0\">&#91;</span>i<span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />    <span class=\"br0\">&#125;</span><br />    <span class=\"kw1\">return</span> <span class=\"kw2\">false</span><span class=\"sy0\">;</span> <span class=\"co1\">//a \'true\' condition has not been met</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//set password using operator =</span><br />Password <span class=\"sy0\">&amp;</span>Password<span class=\"sy0\">::</span><span class=\"me2\">operator</span><span class=\"sy0\">=</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    set<span class=\"br0\">&#40;</span> pass <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw1\">return</span> <span class=\"sy0\">*</span>this<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//test password using ==</span><br />bool Password<span class=\"sy0\">::</span><span class=\"me2\">operator</span><span class=\"sy0\">==</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">return</span> is<span class=\"br0\">&#40;</span> pass <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//test password using !=</span><br />bool Password<span class=\"sy0\">::</span><span class=\"me2\">operator</span><span class=\"sy0\">!=</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    <span class=\"kw1\">return</span> <span class=\"sy0\">!</span>is<span class=\"br0\">&#40;</span> pass <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//append to currently guessed password using operator &lt;&lt;</span><br />Password <span class=\"sy0\">&amp;</span>Password<span class=\"sy0\">::</span><span class=\"me2\">operator</span><span class=\"sy0\">&lt;&lt;</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> character<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />    append<span class=\"br0\">&#40;</span> character <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw1\">return</span> <span class=\"sy0\">*</span>this<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"coMULTI\">/*<br />|| @changelog<br />|| | 2009-06-17 - Alexander Brevig : Added assignment operator =, equality operators == != and insertion operator &lt;&lt;<br />|| | 2009-06-17 - Alexander Brevig : Initial Release<br />|| #<br />*/</span></code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper h\" id=\"ab785c4ed308cf63e8e11ecd745803849b08cd71\">  <p class=\"fileHead\">Password.h</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"coMULTI\">/*<br />||<br />|| @file Password.h<br />|| @version 1.1<br />|| @author Alexander Brevig<br />|| @contact alexanderbrevig@gmail.com<br />||<br />|| @description<br />|| | Handle passwords easily<br />|| #<br />||<br />|| @license<br />|| | This library is free software; you can redistribute it and/or<br />|| | modify it under the terms of the GNU Lesser General Public<br />|| | License as published by the Free Software Foundation; version<br />|| | 2.1 of the License.<br />|| |<br />|| | This library is distributed in the hope that it will be useful,<br />|| | but WITHOUT ANY WARRANTY; without even the implied warranty of<br />|| | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU<br />|| | Lesser General Public License for more details.<br />|| |<br />|| | You should have received a copy of the GNU Lesser General Public<br />|| | License along with this library; if not, write to the Free Software<br />|| | Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA<br />|| #<br />||<br />*/</span><br /><br /><span class=\"co2\">#ifndef PASSWORD_H</span><br /><span class=\"co2\">#define PASSWORD_H</span><br /><br /><span class=\"co2\">#include &lt;WProgram.h&gt;</span><br /><br /><span class=\"co2\">#define MAX_PASSWORD_LENGTH 20</span><br /><br /><span class=\"co2\">#define STRING_TERMINATOR \'\\0\'</span><br /><br />class Password <span class=\"br0\">&#123;</span><br />public<span class=\"sy0\">:</span><br />    Password<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />    <span class=\"kw4\">void</span> set<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    bool is<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    bool append<span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> character<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw4\">void</span> reset<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    bool evaluate<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />    <span class=\"co1\">//char* getPassword();</span><br />    <span class=\"co1\">//char* getGuess();</span><br />    <br />    <span class=\"co1\">//operators</span><br />    Password <span class=\"sy0\">&amp;</span>operator<span class=\"sy0\">=</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    bool operator<span class=\"sy0\">==</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    bool operator<span class=\"sy0\">!=</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> pass<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    Password <span class=\"sy0\">&amp;</span>operator<span class=\"sy0\">&lt;&lt;</span><span class=\"br0\">&#40;</span><span class=\"kw4\">char</span> character<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <br />private<span class=\"sy0\">:</span><br />    <span class=\"kw4\">char</span><span class=\"sy0\">*</span> target<span class=\"sy0\">;</span><br />    <span class=\"kw4\">char</span> guess<span class=\"br0\">&#91;</span> MAX_PASSWORD_LENGTH <span class=\"br0\">&#93;</span><span class=\"sy0\">;</span><br />    byte currentIndex<span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><br /><br /><span class=\"co2\">#endif</span><br /><br /><span class=\"coMULTI\">/*<br />|| @changelog<br />|| | 1.1 2009-06-17 - Alexander Brevig : Added assignment operator =, equality operators == != and insertion operator &lt;&lt;<br />|| | 1.0 2009-06-17 - Alexander Brevig : Initial Release<br />|| #<br />*/</span></code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper txt\" id=\"b7cd72f67415dd79502da5a78d7c64f258b0e28c\">  <p class=\"fileHead\">keywords.txt</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code>Password    KEYWORD1<br />set   KEYWORD2<br />is   KEYWORD2<br />append KEYWORD2<br />reset  KEYWORD2<br />evaluate    KEYWORD2</code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper md\" id=\"1198829b5071283bc5848482617c6e31b5728e68\">  <p class=\"fileHead\">README.md</p>    <div class=\"fileCodeWrapper\">    <div class=\"code\">  <div class=\"markdown\"><h1>Arduino Keypad</h1><p>Arduino code for a simple matrix style keypad</p><p>For complete hookup and tutorial see: <a href=\"http://adam-meyer.com/arduino/keypad\">http://adam-meyer.com/arduino/keypad</a></p><p>The code is provided under the MIT license please use, edit, change, and share. </p><p>The included code examples require the Password and Keypad libraries. Both are included in this project. And are also available for download here.</p><ul><li><a href=\"http://www.arduino.cc/playground/uploads/Code/Password.zip\">http://www.arduino.cc/playground/uploads/Code/Password.zip</a></li><li><a href=\"http://www.arduino.cc/playground/uploads/Code/Keypad.zip\">http://www.arduino.cc/playground/uploads/Code/Keypad.zip</a></li></ul><p><em>Before loading the example code, or even opening the arduino software, place the Password and Keypad folders in your arduino library.</em></p><h5>ARDUINO LIBRARY LOCATION</h5><ul><li>On your Mac:: In (home directory)/Documents/Arduino/libraries  </li><li>On your PC:: My Documents -&gt; Arduino -&gt; libraries  </li><li>On your Linux box: (home directory)/sketchbook/libraries  </li></ul><p>Libraries are available under the GPL license.</p><p>For all my arduino articles: <a href=\"http://adam-meyer.com/arduino/\">http://adam-meyer.com/arduino/</a></p></div>  </div>  </div>  </div>      <div class=\"fileWrapper ino\" id=\"0f745411fc303d95307606043cfecb0d6a31c6d3\">  <p class=\"fileHead\">secret_keypad.ino</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"co1\">//////////////////////////////////////////////////////////////////</span><br /><span class=\"co1\">//2011 bildr</span><br /><span class=\"co1\">//Released under the MIT License - Please reuse change and share</span><br /><span class=\"co1\">//Password for Arduino applications.</span><br /><span class=\"co1\">//Make sure you\'ve installed the two libraries below (with link).</span><br /><span class=\"co1\">//Configured for the Sparkfun keypad (3x4)</span><br /><span class=\"co1\">//* is to validate password  </span><br /><span class=\"co1\">//# is to reset password attempt</span><br /><span class=\"co1\">//Credits to Alexander Brevig &amp; Alexander Brevig</span><br /><span class=\"co1\">/////////////////////////////////////////////////////////////////</span><br /><br /><span class=\"co2\">#include &lt;Password.h&gt; //http://www.arduino.cc/playground/uploads/Code/Password.zip</span><br /><span class=\"co2\">#include &lt;Keypad.h&gt; //http://www.arduino.cc/playground/uploads/Code/Keypad.zip</span><br /><br />Password password <span class=\"sy0\">=</span> Password<span class=\"br0\">&#40;</span> <span class=\"st0\">&quot;1234&quot;</span> <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">const</span> <span class=\"kw4\">byte</span> ROWS <span class=\"sy0\">=</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span> <span class=\"co1\">// Four rows</span><br /><span class=\"kw4\">const</span> <span class=\"kw4\">byte</span> COLS <span class=\"sy0\">=</span> <span class=\"nu0\">3</span><span class=\"sy0\">;</span> <span class=\"co1\">// columns</span><br /><span class=\"co1\">// Define the Keymap</span><br /><span class=\"kw4\">char</span> keys<span class=\"br0\">&#91;</span>ROWS<span class=\"br0\">&#93;</span><span class=\"br0\">&#91;</span>COLS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'1\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'2\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'3\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'4\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'5\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'6\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'7\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'8\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'9\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'*\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'0\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'#\'</span><span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><br /><span class=\"co1\">// Connect keypad ROW0, ROW1, ROW2 and ROW3 to these Arduino pins.</span><br /><span class=\"kw4\">byte</span> rowPins<span class=\"br0\">&#91;</span>ROWS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span> 5<span class=\"sy0\">,</span> 4<span class=\"sy0\">,</span> 3<span class=\"sy0\">,</span> 2 <span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><span class=\"co1\">// Connect keypad COL0, COL1 and COL2 to these Arduino pins.</span><br /><span class=\"kw4\">byte</span> colPins<span class=\"br0\">&#91;</span>COLS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span> 8<span class=\"sy0\">,</span> 7<span class=\"sy0\">,</span> 6 <span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><br /><br /><br /><span class=\"co1\">// Create the Keypad</span><br />Keypad keypad <span class=\"sy0\">=</span> Keypad<span class=\"br0\">&#40;</span> makeKeymap<span class=\"br0\">&#40;</span>keys<span class=\"br0\">&#41;</span><span class=\"sy0\">,</span> rowPins<span class=\"sy0\">,</span> colPins<span class=\"sy0\">,</span> ROWS<span class=\"sy0\">,</span> COLS <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">void</span> setup<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /><br /> <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">begin</span><span class=\"br0\">&#40;</span>9600<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /> keypad.<span class=\"me1\">addEventListener</span><span class=\"br0\">&#40;</span>keypadEvent<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span> <span class=\"co1\">//add an event listener for this keypad</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"kw4\">void</span> loop<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /> keypad.<span class=\"me1\">getKey</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"co1\">//take care of some special events</span><br /><span class=\"kw4\">void</span> keypadEvent<span class=\"br0\">&#40;</span>KeypadEvent eKey<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /> <span class=\"kw1\">switch</span> <span class=\"br0\">&#40;</span>keypad.<span class=\"me1\">getState</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />  <span class=\"kw1\">case</span> PRESSED<span class=\"sy0\">:</span><br />    <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">print</span><span class=\"br0\">&#40;</span><span class=\"st0\">&quot;Pressed: &quot;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">println</span><span class=\"br0\">&#40;</span>eKey<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />    <span class=\"kw1\">switch</span> <span class=\"br0\">&#40;</span>eKey<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />     <span class=\"kw1\">case</span> <span class=\"st0\">\'*\'</span><span class=\"sy0\">:</span> checkPassword<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span> <span class=\"kw2\">break</span><span class=\"sy0\">;</span><br />     <span class=\"kw1\">case</span> <span class=\"st0\">\'#\'</span><span class=\"sy0\">:</span> password.<span class=\"me1\">reset</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span> <span class=\"kw2\">break</span><span class=\"sy0\">;</span><br />     <span class=\"kw1\">default</span><span class=\"sy0\">:</span> password.<span class=\"me1\">append</span><span class=\"br0\">&#40;</span>eKey<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />  <span class=\"br0\">&#125;</span><br /> <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /><br /><span class=\"kw4\">void</span> checkPassword<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /> <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>password.<span class=\"me1\">evaluate</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />  <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">println</span><span class=\"br0\">&#40;</span><span class=\"st0\">&quot;Success&quot;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />  <span class=\"co1\">//Add code to run if it works</span><br /> <span class=\"br0\">&#125;</span><span class=\"kw1\">else</span><span class=\"br0\">&#123;</span><br />  <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">println</span><span class=\"br0\">&#40;</span><span class=\"st0\">&quot;Wrong&quot;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br />  <span class=\"co1\">//add code to run if it did not work</span><br /> <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /></code></pre>  </div>  </div>  </div>      <div class=\"fileWrapper ino\" id=\"1c4b49b1155cd315c7d84949f9930bb1b4f282dd\">  <p class=\"fileHead\">simple_keypad.ino</p>    <div class=\"fileCodeWrapper\">    <div class=\"lineNumbers\">  1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />  </div>  <div class=\"code\">  <pre class=\"code\"><code><span class=\"co1\">//////////////////////////////////////////////////////////////////</span><br /><span class=\"co1\">//2011 bildr</span><br /><span class=\"co1\">//Released under the MIT License - Please reuse change and share</span><br /><span class=\"co1\">//Reads the keys pressed on a keypad </span><br /><span class=\"co1\">//Thanks to Alexander Brevig for his original keypad code.</span><br /><span class=\"co1\">/////////////////////////////////////////////////////////////////</span><br /><br /><span class=\"co2\">#include &lt;Keypad.h&gt; //needs to be in the library folder (Arduino/Libraries)</span><br /><br /><span class=\"kw4\">const</span> <span class=\"kw4\">byte</span> ROWS <span class=\"sy0\">=</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span> <span class=\"co1\">//four rows</span><br /><span class=\"kw4\">const</span> <span class=\"kw4\">byte</span> COLS <span class=\"sy0\">=</span> <span class=\"nu0\">3</span><span class=\"sy0\">;</span> <span class=\"co1\">//three columns</span><br /><span class=\"kw4\">char</span> keys<span class=\"br0\">&#91;</span>ROWS<span class=\"br0\">&#93;</span><span class=\"br0\">&#91;</span>COLS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'1\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'2\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'3\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'4\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'5\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'6\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'7\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'8\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'9\'</span><span class=\"br0\">&#125;</span><span class=\"sy0\">,</span><br /> <span class=\"br0\">&#123;</span><span class=\"st0\">\'#\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'0\'</span><span class=\"sy0\">,</span><span class=\"st0\">\'*\'</span><span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><span class=\"sy0\">;</span><br /><span class=\"kw4\">byte</span> rowPins<span class=\"br0\">&#91;</span>ROWS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span>5<span class=\"sy0\">,</span> 4<span class=\"sy0\">,</span> 3<span class=\"sy0\">,</span> 2<span class=\"br0\">&#125;</span><span class=\"sy0\">;</span> <span class=\"co1\">//connect to the row pinouts of the keypad</span><br /><span class=\"kw4\">byte</span> colPins<span class=\"br0\">&#91;</span>COLS<span class=\"br0\">&#93;</span> <span class=\"sy0\">=</span> <span class=\"br0\">&#123;</span>8<span class=\"sy0\">,</span> 7<span class=\"sy0\">,</span> 6<span class=\"br0\">&#125;</span><span class=\"sy0\">;</span> <span class=\"co1\">//connect to the column pinouts of the keypad</span><br /><br />Keypad keypad <span class=\"sy0\">=</span> Keypad<span class=\"br0\">&#40;</span> makeKeymap<span class=\"br0\">&#40;</span>keys<span class=\"br0\">&#41;</span><span class=\"sy0\">,</span> rowPins<span class=\"sy0\">,</span> colPins<span class=\"sy0\">,</span> ROWS<span class=\"sy0\">,</span> COLS <span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /><br /><span class=\"kw4\">void</span> setup<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /> <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">begin</span><span class=\"br0\">&#40;</span>9600<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span> <span class=\"co1\">//initialise the serial port (9600 baud)</span><br /><span class=\"br0\">&#125;</span><br /> <br /><span class=\"kw4\">void</span> loop<span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br /> <span class=\"kw4\">char</span> key <span class=\"sy0\">=</span> keypad.<span class=\"me1\">getKey</span><span class=\"br0\">&#40;</span><span class=\"br0\">&#41;</span><span class=\"sy0\">;</span><br /> <br /> <span class=\"kw1\">if</span> <span class=\"br0\">&#40;</span>key <span class=\"sy0\">!=</span> NO_KEY<span class=\"br0\">&#41;</span><span class=\"br0\">&#123;</span><br />  <a href=\"geshi/redirect.php?language=arduino&search=Serial\"><span class=\"kw3\">Serial</span></a>.<span class=\"me1\">println</span><span class=\"br0\">&#40;</span>key<span class=\"br0\">&#41;</span><span class=\"sy0\">;</span> <span class=\"co1\">//print to serial the key that has been pressed</span><br /> <span class=\"br0\">&#125;</span><br /><span class=\"br0\">&#125;</span><br /></code></pre>  </div>  </div>  </div>    </div></div><div class=\"footer\">powered by <a title=\"github.com\" href=\"http://github.com\">github</a><!-- Served in 0.0078771114349365 sec - loaded from cache: yes - limitLeft:  of  --!></div></div>');
new Embed("keypad_sidebar", "keypad_code", {"sha":"eb4d7f3bf94dd4dffbaf3eee24fa42168e729b08","url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/trees\/eb4d7f3bf94dd4dffbaf3eee24fa42168e729b08","tree":[{"path":"Keypad\/Keypad.cpp","mode":"100755","type":"blob","sha":"5f871f592d190466f18a3543a7f1491214dbb67f","size":4675,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/5f871f592d190466f18a3543a7f1491214dbb67f"},{"path":"Keypad\/Keypad.h","mode":"100755","type":"blob","sha":"fe3191990f46c602e9760065c8b1061cda6e442c","size":3154,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/fe3191990f46c602e9760065c8b1061cda6e442c"},{"path":"Keypad\/keywords.txt","mode":"100755","type":"blob","sha":"c4fb00cae2c99b12f909507695a839655f2847ba","size":362,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/c4fb00cae2c99b12f909507695a839655f2847ba"},{"path":"License.txt","mode":"100755","type":"blob","sha":"b132efea8543fe82d1fd16a19298a9840f395e17","size":1073,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/b132efea8543fe82d1fd16a19298a9840f395e17"},{"path":"Password\/Password.cpp","mode":"100755","type":"blob","sha":"66ec862d55e3785075fabf915c897eb73a2ad279","size":2989,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/66ec862d55e3785075fabf915c897eb73a2ad279"},{"path":"Password\/Password.h","mode":"100755","type":"blob","sha":"ab785c4ed308cf63e8e11ecd745803849b08cd71","size":1680,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/ab785c4ed308cf63e8e11ecd745803849b08cd71"},{"path":"Password\/keywords.txt","mode":"100755","type":"blob","sha":"b7cd72f67415dd79502da5a78d7c64f258b0e28c","size":91,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/b7cd72f67415dd79502da5a78d7c64f258b0e28c"},{"path":"README.md","mode":"100644","type":"blob","sha":"1198829b5071283bc5848482617c6e31b5728e68","size":949,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/1198829b5071283bc5848482617c6e31b5728e68"},{"path":"secret_keypad.ino","mode":"100755","type":"blob","sha":"0f745411fc303d95307606043cfecb0d6a31c6d3","size":1822,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/0f745411fc303d95307606043cfecb0d6a31c6d3"},{"path":"simple_keypad.ino","mode":"100755","type":"blob","sha":"1c4b49b1155cd315c7d84949f9930bb1b4f282dd","size":1016,"url":"https:\/\/api.github.com\/repos\/ameyer\/keypad\/git\/blobs\/1c4b49b1155cd315c7d84949f9930bb1b4f282dd"}],"truncated":false})

<!-- Served in 0.0085949897766113 sec - loaded from cache: yes - limitLeft:  of  --!>